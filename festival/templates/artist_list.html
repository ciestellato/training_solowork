{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
        <link rel="stylesheet" href="{% static 'css/color.css' %}">
{% endblock %}

{% block title %}ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€è¦§{% endblock %}

{% block content %}
<h1>ğŸ¤ ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€è¦§</h1>

<!-- é ­æ–‡å­—ã‚¿ãƒ– -->
<div class="mb-3 initial-tab">
    <div class="d-flex flex-wrap gap-2">
        <strong class="me-2">äº”åéŸ³:</strong>
        {% for char in initials %}
            {% if char in 'ã‚ã‹ã•ãŸãªã¯ã¾ã‚„ã‚‰ã‚' %}
                <a href="?initial={{ char }}" class="btn btn-outline-primary btn-sm {% if char == initial %}active{% endif %}">{{ char }}</a>
            {% endif %}
        {% endfor %}
    </div>
    <div class="d-flex flex-wrap gap-2 mt-2">
        <strong class="me-2">ABC:</strong>
        {% for char in initials %}
            {% if char|length == 1 and char|upper in 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' %}
                <a href="?initial={{ char }}" class="btn btn-outline-primary btn-sm {% if char == initial %}active{% endif %}">{{ char }}</a>
            {% endif %}
        {% endfor %}
    </div>
    <div class="mt-2">
        <a href="{% url 'festival:artist_list' %}" class="btn btn-secondary btn-sm">ã™ã¹ã¦è¡¨ç¤º</a>
    </div>
</div>

<!-- æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  -->
<form method="get" class="mb-3">
    <div class="input-group">
        <input type="text" name="q" class="form-control" placeholder="ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆåã§æ¤œç´¢" value="{{ query|default_if_none:'' }}">
        <button type="submit" class="btn btn-primary">æ¤œç´¢</button>
    </div>
</form>

<!-- ä¸€è¦§è¡¨ç¤º -->
<table class="table table-striped">
    <thead>
        <tr>
            <th>åå‰</th>
            <th>ãµã‚ŠãŒãª</th>
            <th>ã‚¸ãƒ£ãƒ³ãƒ«</th>
            <!-- <th>Spotify ID</th> -->
        </tr>
    </thead>
    <tbody>
        {% for artist in artists %}
        <tr>
            <td><a href="{% url 'festival:artist_detail' artist.pk %}">{{ artist.name }}</a></td>
            <td>{{ artist.furigana }}</td>
            <td>{{ artist.genres|join:", " }}</td>
            <!-- <td>{{ artist.spotify_id }}</td> -->
        </tr>
        {% empty %}
        <tr>
            <td colspan="4">è©²å½“ã™ã‚‹ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{% url 'festival:index' %}" class="btn btn-primary mt-3">ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</a>
{% endblock %}