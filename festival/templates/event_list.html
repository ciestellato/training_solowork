<!-- festival/templates/event_list.html -->

<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
    <h1>ğŸª ã‚¤ãƒ™ãƒ³ãƒˆä¸€è¦§</h1>

    {% for event in events %}
    <div class="card mb-4">
        <div class="card-header">
            <strong><a href="{% url 'festival:event_detail' event.pk %}">{{ event.name }}</a></strong>
            ï¼ˆ{{ event.start_date }}ã€œ{{ event.end_date }} / {{ event.location }}ï¼‰
        </div>
        <div class="card-body">
            <p>{{ event.description|linebreaks }}</p>
            <h5>å‡ºæ¼”è€…ä¸€è¦§</h5>
            <ul class="list-group">
                {% for perf in event.performance_set.all %}
                <li class="list-group-item">
                    {{ perf.performance_date }}ï¼š{{ perf.artist.name }}
                    {% if perf.is_confirmed %}
                        <span class="badge bg-success">ç¢ºå®š</span>
                    {% else %}
                        <span class="badge bg-warning text-dark">æœªç¢ºå®š</span>
                    {% endif %}
                </li>
                {% empty %}
                <li class="list-group-item text-muted">å‡ºæ¼”è€…æœªç™»éŒ²</li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% empty %}
    <p>ã‚¤ãƒ™ãƒ³ãƒˆãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚</p>
    {% endfor %}

    <a href="{% url 'festival:index' %}" class="btn btn-secondary">ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</a>
</body>
</html>