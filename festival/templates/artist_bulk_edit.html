<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€æ‹¬ç·¨é›†</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .tab-button { margin: 0 4px; }
        .artist-row { display: flex; gap: 1rem; margin-bottom: 0.5rem; }
    </style>
</head>
<body class="container mt-4">
    <h1>ğŸ¶ ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆä¸€æ‹¬ç·¨é›†</h1>
    <!-- ã‚¿ãƒ–è¡¨ç¤º -->
    <div class="mb-3">
        <button class="btn btn-outline-secondary tab-button" data-group="all">ã™ã¹ã¦</button>
        {% for initial in initials %}
            <button class="btn btn-outline-secondary tab-button" data-group="{{ initial }}">{{ initial }}</button>
        {% endfor %}
    </div>

    <!-- ã‚¢ãƒ¼ãƒ†ã‚£ã‚¹ãƒˆç·¨é›†æ¬„ -->
    <form method="post">
        {% csrf_token %}
        {% for artist in artists %}
            <div class="artist-row artist-block" data-group="{{ artist.initial_group }}">
                <input type="text" name="name_{{ artist.id }}" value="{{ artist.name }}" class="form-control" placeholder="åå‰">
                <input type="text" name="furigana_{{ artist.id }}" value="{{ artist.furigana }}" class="form-control" placeholder="ãµã‚ŠãŒãª">
            </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary mt-3">ä¿å­˜</button>
    </form>
<script>
    document.querySelectorAll('.tab-button').forEach(btn => {
        btn.addEventListener('click', () => {
            const group = btn.dataset.group;
            document.querySelectorAll('.artist-block').forEach(row => {
                if (group === 'all' || row.dataset.group === group) {
                    row.style.display = 'flex';
                } else {
                    row.style.display = 'none';
                }
            });
        });
    });
</script>
</body>
</html>