これまでの開発内容を「目的」「構成」「進捗」「成果物」の4つの観点で整理し、**11月17日（月）に実施したUI改善**を踏まえて、**11月18日（火）〜11月21日（金）**のスケジュールを再構成しました。

---

## 🎯 目的

- 音楽フェスティバルやライブイベントの**出演者情報・タイムテーブル・プレイリスト**を一元管理できるWebアプリケーションを構築する  
- 管理者が柔軟にイベント情報を登録・編集できる環境を提供し、ユーザーが**視覚的にイベント全体を把握できるUI**を実現する  
- Spotify APIと連携し、出演アーティストの代表曲を使った**予習用プレイリストを自動生成・保存**できる機能を提供する  
- ステージカラーや並び順など、イベントごとの個性を反映できる**カスタマイズ性の高い設計**を目指す  
- アーティスト一覧を**五十音・ABCの頭文字グループで絞り込み表示**できるようにし、**濁音・半濁音にも対応**する

---

## 🧩 構成

### 技術スタック

| 項目         | 使用技術                          |
|--------------|-----------------------------------|
| フレームワーク | Django                            |
| 言語         | Python, HTML, CSS, JavaScript     |
| データベース | SQLite（Django ORM）              |
| 外部API      | Spotify Web API（OAuth2.0）       |
| 環境管理     | `.env` + `python-dotenv`          |
| バージョン管理 | GitHub                            |

### モデル設計（Django ORM）

| モデル名     | 役割 |
|--------------|------|
| `Event`      | イベント全体（フェス、ツアーなど） |
| `EventDay`   | 公演日＋会場 |
| `Stage`      | ステージ情報（並び順・カラー付き） |
| `Artist`     | アーティスト情報（Spotify連携あり） |
| `Performance`| 出演情報（ステージ・時間帯） |

### 主な機能モジュール

- `artist_views.py`: アーティスト一覧・詳細・登録・頭文字絞り込み
- `event_views.py`: イベント一覧（upcoming/history分割）・詳細・登録
- `performance_views.py`: タイムテーブル登録・編集・表示
- `playlist_views.py`: プレイリスト作成・Spotify保存
- `spotify_auth_views.py`: Spotify認証（OAuth2.0）
- `text_utils.py`: ふりがな変換・頭文字グループ判定（濁音対応）

---

## 🚧 進捗

| 機能 | 状況 |
|------|------|
| モデル設計 | ✅ 完了（Stage拡張・Spotify対応含む） |
| 管理画面対応 | ✅ 完了（並び順・カラー編集可能） |
| タイムテーブル表示 | ✅ 完了（ステージ・時間ごとの表示制御） |
| CSS調整 | ✅ 完了（余白・高さ・色分け対応） |
| スロット統合表示 | ✅ 完了（rowspan未使用） |
| Spotify認証 | ✅ 完了（OAuth2.0＋トークン管理） |
| プレイリスト作成 | ✅ 完了（イベント日程固定＋代表曲取得） |
| Spotify保存 | ✅ 完了（トークンリフレッシュ＋保存後リダイレクト） |
| アーティスト頭文字絞り込み | ✅ 完了（濁音・半濁音対応） |
| イベント一覧分割 | ✅ 完了（upcoming/historyでページ分離） |
| アーティスト詳細表示 | ✅ 完了（今後の予定と過去の履歴を分離表示） |
| プレイリスト作成UI改善 | ✅ 完了（検索バー・選択補助・選択数表示）← 11/17対応済み |

---

## 📝 成果物

### 🎧 プレイリスト作成機能
- 出演アーティスト選択＋代表曲取得
- Spotify保存（トークン管理・保存上限警告）
- UIカラーリング（Bootstrap＋カスタムCSS）
- 検索バー・選択補助・選択数表示（11/17追加）

### 🕒 タイムテーブル管理機能
- 出演者・ステージ・時間登録
- ステージカラー反映・スロット統合表示
- 日程切り替えリンク・編集対応

### 🎤 アーティスト一覧・詳細
- 頭文字グループ絞り込み（五十音・ABC）
- 濁音・半濁音対応（「は」→「ば」「ぱ」など）
- 詳細ページで出演履歴と今後の予定を分離表示

### 🎪 イベント一覧
- upcoming（今後）と history（過去）でページ分割
- 日付順ソート（昇順・降順）

---

## 🎧 スケジュール（2025年11月18日〜11月21日）

| 日付       | タスク内容 | 使用技術・ファイル | 備考 |
|------------|------------|---------------------|------|
| **11/18 (火)** | 🧪 テスト・バグ修正 | `test_views.py`, `test_playlist.py`, `test_artist.py` | プレイリスト作成・Spotify保存・頭文字絞り込み・履歴分離の動作確認 |
| **11/19 (水)** | 📄 ドキュメント整理・README更新 | `README.md`, `docs/playlist_spec.md`, `docs/artist_spec.md` | 実装内容の反映・構成図・セットアップ手順・画面キャプチャの追加 |
| **11/20 (木)** | 🎤 発表準備・デモ構成 | `slides/playlist_demo.pptx`, `demo_script.md` | デモシナリオ作成・発表練習・スライド仕上げ |
| **11/21 (金)** | ✅ 成果レビュー・最終提出 | GitHub, 発表会 | チームレビュー・提出物確認・フィードバック対応・発表本番 |

---
